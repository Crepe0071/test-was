package com.example.was1;

import jakarta.annotation.PostConstruct;
import jakarta.annotation.PreDestroy;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletResponse;
import org.springframework.http.ResponseEntity;
import org.springframework.messaging.handler.annotation.MessageMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestClient;

import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.net.URI;
import java.nio.file.Path;
import java.util.Base64;

@RestController
@RequestMapping("/api")
public class JustController {

    @GetMapping("/method1")
    public ResponseEntity method1() {

        System.out.println("hello world");

        return ResponseEntity.ok("hello world");
    }

    @GetMapping("/method2")
    public ResponseEntity method22(HttpServletResponse response) {

        System.out.println("create file");

        try(OutputStream os = response.getOutputStream();) {
            String base64ImageData = "data:image/jpeg;base64,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";
            String base64String = base64ImageData.split(",")[1];
            byte[] imageBytes = Base64.getDecoder().decode(base64String);
            response.setHeader("Content-Disposition", "attachment; filename=\"image.jpg\"");
            response.setContentType("image/jpeg");
            os.write(imageBytes);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }

        return ResponseEntity.ok("create file");
    }

    @GetMapping("/method3")
    public ResponseEntity method33(HttpServletResponse response) {

        System.out.println("load file");

        try(OutputStream os = response.getOutputStream();) {
            String base64ImageData = "data:image/jpeg;base64,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";
            String base64String = base64ImageData.split(",")[1];
            byte[] imageBytes = Base64.getDecoder().decode(base64String);
            response.setContentType("image/jpeg");
            response.setHeader("Content-Disposition", "inline; filename=\"image.jpg\"");
            os.write(imageBytes);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }

        return ResponseEntity.ok("load file");
    }

    @PostMapping("/up")
    public ResponseEntity method2() {
        RestClient restClient = RestClient.builder()
                .baseUrl("http://localhost:8000/status/was/up")
                .build();

        return ResponseEntity.ok(restClient.post()
                .body("localhost:8080")
                .retrieve()
                .body(String.class));
    }

    @PostMapping("/down")
    public ResponseEntity method3() {
        RestClient restClient = RestClient.builder()
                .baseUrl("http://localhost:8000/status/was/down")
                .build();

        return ResponseEntity.ok(restClient.post()
                .body("localhost:8080")
                .retrieve()
                .body(String.class));
    }

    @PostMapping("/web-socket/up")
    public ResponseEntity method4() {
        RestClient restClient = RestClient.builder()
                .baseUrl("http://localhost:8000/status/web-socket/up")
                .build();

        return ResponseEntity.ok(restClient.post()
                .body("localhost:8080")
                .retrieve()
                .body(String.class));
    }

    @PostMapping("/web-socket/down")
    public ResponseEntity method5() {
        RestClient restClient = RestClient.builder()
                .baseUrl("http://localhost:8000/status/web-socket/down")
                .build();

        return ResponseEntity.ok(restClient.post()
                .body("localhost:8080")
                .retrieve()
                .body(String.class));
    }

    @MessageMapping("/chat/message")
    public String message(String message) {
        // 이 예시에서는 단순하게 전달받은 메시지 객체를 리턴
        // Spring이 자동으로 /sub/chat/room/{roomId} 경로를 구독 중인 클라이언트에게 뿌려준다
        return message;
    }


    @PostConstruct
    public void init() {
        method2();
        method4();
    }

    @PreDestroy
    public void destroy() {
        method3();
        method5();
    }
}
